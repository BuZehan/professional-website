import{_ as e,W as a,N as t,y as s,a as n,c as l,w as i,m as o,i as d,E as c,d as r,e as m,u as p,s as f,t as g,U as h,g as u,p as _,G as v,P as b,V as I,X as w}from"./index-bc0df3a7.js";const k=e({__name:"certificate-detail",setup(e){const k=a();t((()=>{b.publish("scroll-top",{data:!0})}));const y=()=>{console.log(123),b.publish("back-event",{index:2})},x=()=>{b.publish("back-event",{index:2}),I({delta:1})},C=s((()=>k.Certificate.list.filter((e=>e.id===k.CertificateIndex))[0])),P=["pdf","doc","docx"],D=s((()=>e=>P.includes(e.match(/\.([^.]+)$/)[1])));return(e,a)=>{const t=o("AppPopup"),s=o("AppHeader"),b=o("el-col"),I=o("el-icon"),k=o("el-image"),F=d,$=o("el-row"),j=o("el-button"),A=o("Footer"),E=c("pdf");return n(),l(F,{class:"news-detail",ref:"target"},{default:i((()=>[r("template",{class:"m-header hidden-md-and-up"},[m(t),m(s)]),p(C)?(n(),l($,{key:0,justify:"center"},{default:i((()=>[m(b,{class:"title",xs:22,md:24},{default:i((()=>{var e;return[f(g(null==(e=p(C))?void 0:e.news_title),1)]})),_:1}),m(b,{class:"time",xs:22,md:24},{default:i((()=>[m(I,{size:20,color:"rgb(200,20,20)"},{default:i((()=>[m(p(h))])),_:1}),f(g(p(C).release_time),1)])),_:1}),u(' <el-col class="content" :xs="22" :md="24" v-for="c in newsData.content"> '),m(b,{class:"content",xs:22,md:24},{default:i((()=>[u(' <el-image v-if="c == \'img\'" :src="newsData.imgUrl" fit="cover" /> '),P.includes(p(C).honorImage[0].image_path.match(/\.([^.]+)$/)[1])?(n(),_("div",{key:0,class:"pdfWrapper"},[v(r("div",null,null,512),[[E,p(C).honorImage[0].image_path]]),r("div",{class:"down"},[p(D)(p(C).honorImage[0].image_path)?(n(),_("a",{key:0,class:"download hidden-sm-and-down",href:p(C).honorImage[0].image_path,target:"_blank"},"查看证书PDF",8,["href"])):u("v-if",!0),p(D)(p(C).honorImage[0].image_path)?(n(),_("a",{key:1,class:"download",onClick:a[0]||(a[0]=e=>{return a=p(C).honorImage[0].image_path,t=p(C).honorImage[0].image_name,void w({url:a,success:e=>{console.log(e);var a=document.createElement("a");a.href=e.tempFilePath,a.download=t,document.body.appendChild(a),a.click()}});var a,t})},"下载证书附件")):u("v-if",!0)])])):(n(),l(k,{key:1,src:p(C).honorImage[0].image_path,class:"image"},null,8,["src"])),u(' <el-image v-if="Certificate.honorImage" :src="Certificate.honorImage[0].image_path" fit="cover" /> ')])),_:1}),u(' <div v-if="Certificate?.honorImage[0].image_path">{{ Certificate.honorImage[0].image_name.replace(/\\.pdf$/, "")\r\n            }}</div> '),m(b,{class:"content",xs:22,md:24},{default:i((()=>[m(F,null,{default:i((()=>[f(g(p(C).news_content),1)])),_:1})])),_:1})])),_:1})):u("v-if",!0),m(j,{color:"rgb(200,20,20)",class:"hidden-sm-and-down btn",type:"primary",onClick:y},{default:i((()=>[f("返回")])),_:1}),m(j,{color:"rgb(200,20,20)",class:"hidden-md-and-up btn",type:"primary",onClick:x},{default:i((()=>[f("返回")])),_:1}),m(A,{class:"hidden-md-and-up"})])),_:1},512)}}},[["__scopeId","data-v-7d2805b5"]]);export{k as default};
