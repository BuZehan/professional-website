import{t as e,a,c as t,w as s,e as l,y as n,z as c,A as r,i,q as u,l as o,r as d,G as p,v as m,F as f,x as h,u as g,H as _,g as v,M as b,b as x,T as k,K as C,f as w}from"./index-407bc2bb.js";import{P as y,A as j,a as D,F as z}from"./app-footer.24f711e0.js";import{T as I}from"./teacherInfo.4cd8e8dd.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import{t as S}from"./teacher-info.79949b39.js";import{b as T,A}from"./background-img.2b5b3eb0.js";const P=M({__name:"show-teacher",props:{index:{type:Number,default:0},img:{type:String,default:""},name:{type:String,default:"姓名"},title:{type:String,default:"标题"},desc:{type:Object,default:()=>{}}},emits:["clickDetail","clickDetailM"],setup(u,{emit:o}){const d=u,p=()=>{o("clickDetail")};return(m,f)=>{const h=e("el-image"),g=i,_=e("el-button");return a(),t(g,{class:"teacher-wrapper"},{default:s((()=>[l(h,{fit:"cover",src:u.img},null,8,["src"]),l(g,{class:"right-wrapper"},{default:s((()=>[l(g,{class:"teacher-name"},{default:s((()=>[n(c(u.name),1)])),_:1}),l(g,{class:"teacher-title"},{default:s((()=>[n(c(u.title),1)])),_:1}),l(g,{class:"teacher-desc"},{default:s((()=>[n(c(u.desc.Exp[0]),1)])),_:1}),l(_,{onClick:p,class:"hidden-sm-and-down"},{default:s((()=>[n("详情")])),_:1}),l(_,{onClick:f[0]||(f[0]=e=>(u.index,o("clickDetailM"),void r({url:`/pages/index/child/teaching-team/teacher-info-m?id=${d.index}`}))),class:"hidden-md-and-up"},{default:s((()=>[n("详情")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-f5e19879"]]),$=M({__name:"show-teacher-list",setup(n){const c=I(),r=u((()=>c.teacherList.length)),b=u((()=>c.teacherList.slice((k.value-1)*C.value,k.value*C.value))),x=e=>{c.updateTeacherInfo(e),y.publish("teacher-event",{v:1})};o((()=>{y.unsubscribe("teacher-event")}));const k=d(1),C=d(6),w=e=>{console.log(`${e} items per page`)},j=e=>{console.log(`current page: ${e}`)};return(n,c)=>{const u=e("el-col"),o=e("el-row"),d=e("el-pagination"),y=i,D=p("showMeta");return a(),t(y,{class:"teacher-list-wrapper"},{default:s((()=>[l(o,{justify:"space-between"},{default:s((()=>[(a(!0),m(f,null,h(g(b),((e,n)=>(a(),t(u,{xs:24,sm:12,md:11,key:n},{default:s((()=>[_(l(P,{onClickDetail:a=>x(e),onClickDetailM:a=>x(e),name:e.name,img:e.img,title:e.title,desc:e.desc,index:n},null,8,["onClickDetail","onClickDetailM","name","img","title","desc","index"]),[[D,"animate__fadeInUp"]])])),_:2},1024)))),128))])),_:1}),v(" 分页 "),l(d,{"current-page":k.value,"onUpdate:currentPage":c[0]||(c[0]=e=>k.value=e),"page-size":C.value,"onUpdate:pageSize":c[1]||(c[1]=e=>C.value=e),background:!0,layout:"prev, pager, next",total:g(r),onSizeChange:w,onCurrentChange:j},null,8,["current-page","page-size","total"])])),_:1})}}},[["__scopeId","data-v-72c6083e"]]),U=M({__name:"teaching-team",setup(r){const u=I(),p=[$,S],m=d(u.currentStatus);y.subscribe("teacher-event",((e,a)=>{g(a.v),m.value=a.v})),y.subscribe("index-teacher-event",((e,a)=>{m.value=a.num})),o((()=>{y.unsubscribe("teacher-event"),y.unsubscribe("index-teacher-event")}));const f=e=>{g(e),m.value=e},h=d(null),g=e=>{0!==e&&(y.publish("scroll-top",{data:!0}),h.value.$el.scrollTo({top:0,behavior:"smooth"}))};return b((()=>{y.publish("scroll-top",{data:!0})})),(r,u)=>{const o=i,d=e("el-col"),g=e("el-row");return a(),t(o,{class:"container",ref_key:"target",ref:h},{default:s((()=>[x("template",{class:"m-header"},[l(j),l(D)]),l(o,{class:"container-content"},{default:s((()=>[l(T),l(o,null,{default:s((()=>[l(A,{class:"trans",onChangePage:f,currentPageTxtArr:(m.value,["师资团队"])},null,8,["currentPageTxtArr"]),l(o,{class:"zz"}),l(g,{justify:"center",class:"instruction"},{default:s((()=>[l(d,{xs:{span:24},sm:{span:20},md:{span:18}},{default:s((()=>[l(o,{class:"title"},{default:s((()=>[n(c(0===m.value?"师资团队":"教师"),1)])),_:1}),x("p",{class:"line"}),l(o,{class:"content pcContent"},{default:s((()=>[l(k,{name:"el-fade-in",mode:"out-in"},{default:s((()=>[(a(),t(C,null,[(a(),t(w(p[m.value])))],1024))])),_:1})])),_:1}),l(o,{class:"mContent"},{default:s((()=>[l($)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),l(z,{class:"footer"})])),_:1},512)}}},[["__scopeId","data-v-62a4f4cb"]]);export{U as default};
